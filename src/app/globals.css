@import 'tailwindcss';

@custom-variant dark (&:is(class *));

@theme {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  --color-chart-1: hsl(var(--chart-1));
  --color-chart-2: hsl(var(--chart-2));
  --color-chart-3: hsl(var(--chart-3));
  --color-chart-4: hsl(var(--chart-4));
  --color-chart-5: hsl(var(--chart-5));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {

  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

/* Notion-style Sidebar Enhancements */
@utility sidebar-glass {
  /* Glassmorphism for sidebar - uses theme-aware colors */
  background: hsl(var(--secondary) / 0.95);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}

@utility sidebar-scrollbar {

  /* Custom scrollbar for sidebar - theme-aware */
  &::-webkit-scrollbar {
    width: 6px;
  }

  &::-webkit-scrollbar-track {
    background: transparent;
  }

  &::-webkit-scrollbar-thumb {
    background: hsl(var(--muted-foreground) / 0.15);
    border-radius: 3px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground) / 0.25);
  }
}

@utility nav-item-hover {
  /* Smooth hover transitions */
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);

  &:hover {
    transform: translateX(2px);
  }
}

@utility notion-focus {

  /* Notion-style focus ring for inputs */
  &:focus {
    outline: none;
    box-shadow: 0 0 0 3px hsl(var(--primary) / 0.1);
  }
}

@utility fade-on-hover {
  /* Smooth opacity transitions */
  opacity: 0;
  transition: opacity 0.2s ease;

  .group:hover & {
    opacity: 1;
  }
}

@utility group {
  &:hover .fade-on-hover {
    opacity: 1;
  }
}

@utility tab-bar {
  /* Tab Bar Styles */
  background: hsl(var(--secondary) / 0.95);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}

@utility tab-scroll-container {
  scrollbar-width: none;

  &::-webkit-scrollbar {
    display: none;
  }
}

@utility tab-item {
  position: relative;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

@utility tab-item-active {
  background: linear-gradient(to right,
      hsl(var(--primary) / 0.08),
      hsl(var(--primary) / 0.05));

  .dark &::after {
    background: linear-gradient(90deg,
        rgb(168, 85, 247) 0%,
        rgb(236, 72, 153) 100%);
  }
}

@utility dark {
  & .tab-item-active::after {
    background: linear-gradient(90deg,
        rgb(168, 85, 247) 0%,
        rgb(236, 72, 153) 100%);
  }

  /* BlockNote Editor styling - transparent background in dark mode */
  & .bn-container {
    background: transparent !important;
  }

  & .bn-editor {
    background: transparent !important;
  }

  & .bn-block-outer {
    background: transparent !important;
  }

  & .gradient-bg {
    background: linear-gradient(135deg,
        hsl(265, 70%, 25%) 0%,
        hsl(240, 65%, 35%) 50%,
        hsl(320, 60%, 40%) 100%);
    background-size: 200% 200%;
    animation: gradientShift 10s ease infinite;
  }

  & .glass-card {
    background: rgba(20, 20, 30, 0.85);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow:
      0 8px 32px rgba(0, 0, 0, 0.4),
      0 0 0 1px rgba(255, 255, 255, 0.05) inset;
  }

  & .gradient-text {
    background: linear-gradient(135deg,
        hsl(265, 100%, 75%),
        hsl(240, 95%, 80%),
        hsl(320, 90%, 75%));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  & .feature-card:hover {
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.5);
  }
}

@utility scrollbar-hide {
  /* Scrollbar hide utility */
  -ms-overflow-style: none;
  scrollbar-width: none;

  &::-webkit-scrollbar {
    display: none;
  }
}

@utility bn-container {
  /* BlockNote Editor styling - transparent background in all modes */
  background: transparent !important;

  .dark & {
    background: transparent !important;
  }
}

@utility bn-editor {
  background: transparent !important;

  .dark & {
    background: transparent !important;
  }
}

@utility bn-block-outer {
  background: transparent !important;

  .dark & {
    background: transparent !important;
  }
}

@utility animate-slide-in {
  animation: slideInLeft 0.3s ease backwards;
}

@utility animate-fade-in {
  animation: fadeIn 0.2s ease;
}

/* Documents Page Enhancements */
@utility gradient-bg {
  /* Animated gradient background */
  background: linear-gradient(135deg,
      hsl(265, 80%, 45%) 0%,
      hsl(240, 75%, 55%) 50%,
      hsl(320, 70%, 60%) 100%);
  background-size: 200% 200%;
  animation: gradientShift 10s ease infinite;

  .dark & {
    background: linear-gradient(135deg,
        hsl(265, 70%, 25%) 0%,
        hsl(240, 65%, 35%) 50%,
        hsl(320, 60%, 40%) 100%);
    background-size: 200% 200%;
    animation: gradientShift 10s ease infinite;
  }
}

@utility glass-card {
  /* Glassmorphism card for documents page */
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.1),
    0 0 0 1px rgba(255, 255, 255, 0.1) inset;

  .dark & {
    background: rgba(20, 20, 30, 0.85);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow:
      0 8px 32px rgba(0, 0, 0, 0.4),
      0 0 0 1px rgba(255, 255, 255, 0.05) inset;
  }
}

@utility gradient-text {
  /* Gradient text effect */
  background: linear-gradient(135deg,
      hsl(265, 90%, 55%),
      hsl(240, 85%, 65%),
      hsl(320, 80%, 65%));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;

  .dark & {
    background: linear-gradient(135deg,
        hsl(265, 100%, 75%),
        hsl(240, 95%, 80%),
        hsl(320, 90%, 75%));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
}

@utility cta-button {
  /* Enhanced button with glow effect */
  position: relative;
  background: linear-gradient(135deg, hsl(265, 70%, 50%), hsl(240, 65%, 60%));
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

  &:hover {
    transform: translateY(-2px);
    box-shadow:
      0 12px 24px rgba(147, 51, 234, 0.3),
      0 0 40px rgba(147, 51, 234, 0.2);
  }

  &:active {
    transform: translateY(0);
  }
}

@utility floating-blob {
  /* Floating blob decorations */
  position: absolute;
  border-radius: 50%;
  filter: blur(60px);
  opacity: 0.3;
  animation: float 20s ease-in-out infinite;
}

@utility floating-blob-1 {
  width: 300px;
  height: 300px;
  background: hsl(265, 80%, 60%);
  top: -10%;
  left: -5%;
  animation-delay: 0s;
}

@utility floating-blob-2 {
  width: 250px;
  height: 250px;
  background: hsl(240, 75%, 65%);
  bottom: -10%;
  right: -5%;
  animation-delay: 5s;
}

@utility floating-blob-3 {
  width: 200px;
  height: 200px;
  background: hsl(320, 70%, 65%);
  top: 50%;
  right: 10%;
  animation-delay: 10s;
}

@utility feature-card {
  /* Feature card hover effect */
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

  &:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
  }

  .dark &:hover {
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.5);
  }
}

@utility animate-fade-in-up {
  animation: fadeInUp 0.6s ease backwards;
}

@utility animate-scale-in {
  animation: scaleIn 0.5s ease backwards;
}

@utility animation-delay-100 {
  animation-delay: 0.1s;
}

@utility animation-delay-200 {
  animation-delay: 0.2s;
}

@utility animation-delay-300 {
  animation-delay: 0.3s;
}

@utility animation-delay-400 {
  animation-delay: 0.4s;
}

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 0 0% 3.9%;
    --radius: 0.5rem;
    --chart-1: 12 76% 61%;
    --chart-2: 173 58% 39%;
    --chart-3: 197 37% 24%;
    --chart-4: 43 74% 66%;
    --chart-5: 27 87% 67%;
  }

  .dark {
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --card: 0 0% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 0 0% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 0 0% 9%;
    --secondary: 0 0% 14.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 0 0% 14.9%;
    --muted-foreground: 0 0% 63.9%;
    --accent: 0 0% 14.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 14.9%;
    --input: 0 0% 14.9%;
    --ring: 0 0% 83.1%;
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {

  /* Animation keyframes */
  @keyframes slideInLeft {
    from {
      opacity: 0;
      transform: translateX(-10px);
    }

    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }

  /* Utility classes */
}

@layer utilities {

  /* Additional animation keyframes */
  @keyframes gradientShift {

    0%,
    100% {
      background-position: 0% 50%;
    }

    50% {
      background-position: 100% 50%;
    }
  }

  @keyframes float {

    0%,
    100% {
      transform: translate(0, 0) scale(1);
    }

    33% {
      transform: translate(30px, -30px) scale(1.1);
    }

    66% {
      transform: translate(-20px, 20px) scale(0.9);
    }
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.9);
    }

    to {
      opacity: 1;
      transform: scale(1);
    }
  }


  /* Chat Panel Animations */
  @keyframes slideInFromBottom {
    from {
      opacity: 0;
      transform: translateY(10px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }

    100% {
      background-position: 200% 0;
    }
  }

  @keyframes pulseGlow {

    0%,
    100% {
      box-shadow: 0 0 0 0 rgba(147, 51, 234, 0.4);
    }

    50% {
      box-shadow: 0 0 20px 5px rgba(147, 51, 234, 0.2);
    }
  }

  @keyframes borderGlow {

    0%,
    100% {
      border-color: rgba(147, 51, 234, 0.5);
    }

    50% {
      border-color: rgba(236, 72, 153, 0.8);
    }
  }

  /* Additional utility classes */
}

/* Force BlockNote Editor transparency - global override */
.bn-container,
.bn-editor,
.bn-block-outer,
[data-node-type="blockContainer"] {
  background: transparent !important;
  background-color: transparent !important;
}